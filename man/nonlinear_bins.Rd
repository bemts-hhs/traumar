% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/non_linear_bins.R
\name{nonlinear_bins}
\alias{nonlinear_bins}
\title{Create Nonlinear Probability of Survival Bins}
\usage{
nonlinear_bins(
  data,
  Ps_col,
  divisor1 = 5,
  divisor2 = 5,
  threshold_1 = 0.9,
  threshold_2 = 0.99
)
}
\arguments{
\item{data}{A `data.frame` or `tibble` containing the probability of survival data for a set of patients.}

\item{Ps_col}{The column in `data` containing the probability of survival values for a set of patients.}

\item{divisor1}{A parameter to control the width of the probability of survival range bins.
Affects the creation of step sizes for the beginning of each bin range. Defaults to `5`.}

\item{divisor2}{A parameter to control the width of the probability of survival range bins.
Affects the creation of step sizes for the beginning of each bin range. Defaults to `5`.}

\item{threshold_1}{A parameter to decide where data indices will begin to create step sizes. Defaults to `0.9`.}

\item{threshold_2}{A parameter to decide where data indices will end to create step sizes. Defaults to `0.99`.}
}
\value{
A list with `intervals` and `bin_stats` objects:
* `intervals`: A vector of start and end-points for the probability of survival bin ranges.
* `bin_stats`: A `tibble` with columns `bin_number`, `bin_start`, `bin_end`, `mean`, `sd`, `count`, and `percent`.
}
\description{
This function generates nonlinear bins for probability of survival data based on specified thresholds
and divisors. It calculates bin statistics, including mean, standard deviation, count, and percentage
for each bin.
}
\examples{
# Generate example data with high negative skewness
set.seed(123)
survival_probs <- rbeta(1000, shape1 = 2, shape2 = 8)
example_data <- data.frame(patient_id = 1:1000, survival_probability = survival_probs)

# Apply the nonlinear_bins function
results <- nonlinear_bins(data = example_data,
                          Ps_col = survival_probability,
                          divisor1 = 5,
                          divisor2 = 5,
                          threshold_1 = 0.9,
                          threshold_2 = 0.99)

# View results
results$intervals
results$bin_stats

}
\author{
Nicolas Foss, Ed.D, MS, original paper and code in MATLAB by Nicholas J. Napoli, Ph.D., MS
}
